{
    "collab_server" : "",
    "contents" : "---\noutput: github_document\n---\n\n<!-- README.md is generated from README.Rmd. Please edit that file -->\n\n```{r, echo = FALSE}\nknitr::opts_chunk$set(\n  collapse = TRUE,\n  comment = \"#>\",\n  fig.path = \"README-\"\n)\n```\n\n## Overview\n\nR functions for creating square and hextile maps for various countries (only USA for now). \n\n## Installation\n\n```{r, eval = FALSE}\n# install.packages(\"devtools\")\ndevtools::install_github(\"EmilHvitfeldt/tilemapr\")\n```\n\n## Usage\n\nTile grid maps are good alternative when the population isn't of much interest. Below we see a minimal example using ggplot2 and `geom_map()`:\n\n```{r}\nlibrary(tidyverse)\nlibrary(tilemapr)\n\n# Creating data\ncrimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)\nstates_map <- square_usa()\n\nggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = states_map) +\n  expand_limits(x = states_map$long, y = states_map$lat)\n```\n\nAll the functions include a number of parameters to control the resulting data.frame. The two most important ones are the `d` and `center`. `d` is a kind of diameter parameter which is used to control the size of the tiles. And `center` make the function gives us a data.frame with the coordinates of the center of the tile.\n\n```{r}\nstates_map <- hex_usa(d = 0.5)\n\nggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = states_map) +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  geom_text(data = hex_usa(d = 0.5, center = TRUE), \n            aes(x = long, y = lat, label = region_abr), \n            inherit.aes = FALSE)\n```\n\nWe see here that DC is floating, this will be a common issue. It can be resolved by either removing it with `exclude` or to plotting a dataless map underneath:\n\n```{r}\nstates_map <- hex_usa(d = 0.5)\n\nggplot(states_map, aes(map_id = region)) +\n  geom_map(aes(), map = states_map) +\n  geom_map(data = crimes, map = states_map,\n           aes(fill = Murder, map_id = state)) +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  geom_text(data = hex_usa(d = 0.5, center = TRUE), \n            aes(x = long, y = lat, label = region_abr), \n            inherit.aes = FALSE)\n```\n\nLastly some of the functions have different layout, which are picked using the `style`.\n\n```{r, echo=FALSE, message=FALSE}\nlibrary(gridExtra)\n\nstates_map <- square_usa(style = \"The Guardian\")\n\nq1 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"NPR\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"NPR\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq2 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"The New York Times\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"The New York Times\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq3 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"538\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"538\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq4 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"Propublica\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"Propublica\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq5 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"Bloomberg\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"Bloomberg\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq6 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"The Guardian\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"The Guardian\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq7 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"Wall Street Journal\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"Wall Street Journal\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq8 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"WNYC\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"WNYC\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\nq9 <- ggplot(crimes, aes(map_id = state)) +\n  geom_map(aes(fill = Murder), map = square_usa(style = \"The Marshall Project\")) +\n  expand_limits(x = c(-1, 13), y = c(-2, 9)) +\n  labs(title = \"The Marshall Project\") + \n  guides(fill = \"none\") +\n  theme_void() + \n  coord_fixed(ratio = 1)\n\ngrid.arrange(q1, q2, q3, q4, q5, q6, q7, q8, q9, ncol = 3, nrow = 3)\n```\n\n\n",
    "created" : 1495033231577.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1248205484",
    "id" : "698EA495",
    "lastKnownWriteTime" : 1495042603,
    "last_content_update" : 1495042669620,
    "path" : "~/Documents/Academia/Github/tilemapr/README.Rmd",
    "project_path" : "README.Rmd",
    "properties" : {
        "docOutlineVisible" : "1",
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}